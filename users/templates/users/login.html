{% extends 'base.html' %}

{% block content %}
<h1>Авторизация</h1>

<form method="post">
    {% csrf_token %}
    <!--Доп параметр next (например перенаправление), .../login/?next=/addpage/-->
    <input type="hidden" name="next" value="{{ next }}">
    <!--non_field_errors - Общая коллекция ошибок, котор не связаны с тем или иным полем-->
    <div class="form-error">{{ form.non_field_errors }}</div>
    {% for f in form %}
    <p><label class="form-label" for="{{ f.id_for_label }}">{{ f.label }}</label>{{ f }}</p>
    <!-- f.errors - Вывод ошибок-->
    <div class="form-error">{{ f.errors }}</div>
    {% endfor %}
    <p><button type="submit">Отправить</button></p>
<!--    {{form.as_p}}-->
<!--    <p><button type="submit">Войти</button></bu></p>-->

<!-- Переход на восстановление пароля-->
<p><a href="{% url 'users:password_reset' %}">Забыли пароль?</a></p>
</form>

{% endblock %}